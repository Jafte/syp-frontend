<div class="d-flex justify-content-center">
  <div class="card">
    <div class="rounded-top text-white d-flex flex-row" style="background-color: #000; height:200px;">
      <div class="ms-4 mt-5 d-flex flex-column justify-content-center" style="width: 150px;">
        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp"
        alt="Generic placeholder image" class="img-fluid img-thumbnail mt-4 mb-2"
        style="width: 150px; z-index: 1">
        @if (user?.can_be_added_as_a_friend) {
          <div style="z-index: 1; position: absolute; top: 217px; width: 150px;" class="d-grid gap-1">
            @if (user?.friendship) {
              <button  type="button" class="btn btn-block btn-danger" (click)="removeFromFriends(user?.uuid)">Удалить из друзей</button>
            } @else {
              @if (user?.friendship_request_from) {
                <button  type="button" class="btn btn-success" (click)="acceptFriendRequest(user?.uuid)">Принять</button>
                <button  type="button" class="btn btn-danger" (click)="rejectFriendRequest(user?.uuid)">Отклонить</button>
              } @else if (user?.friendship_request_to) {
                <button  type="button" class="btn btn-warning" (click)="cancelFriendRequest(user?.uuid)">Отменить</button>
              } @else {
                <button  type="button" class="btn btn-primary" (click)="sendFriendRequest(user?.uuid)">Отправить запрос</button>
              }
            }
          </div>  
        }
      </div>
      <div class="ms-3" style="margin-top: 130px;">
        <h5>{{ user?.first_name }} {{ user?.last_name }}</h5>
        @if (user?.can_be_added_as_a_friend) {
          <p>
            @if (user?.friendship) {
              Вы друзья с {{ user?.friendship?.created_at?.toLocaleDateString() }}
            } @else {
              @if (user?.friendship_request_from) {
                Запрос на добавление в друзья получен
              } @else if (user?.friendship_request_to) {
                Запрос на добавление в друзья отправлен
              } @else {
                Вы его знаете?
              }
            }
          </p>
        }
      </div>
    </div>
    <div class="p-4 text-black bg-body-tertiary">
      <div class="d-flex justify-content-end text-center py-1 text-body">
        <div>
          <p class="mb-1 h5">{{ user?.friends_count }}</p>
          <p class="small text-muted mb-0">Друзья</p>
        </div>
        <div class="px-3">
          <p class="mb-1 h5">1026</p>
          <p class="small text-muted mb-0">Организатор</p>
        </div>
        <div>
          <p class="mb-1 h5">478</p>
          <p class="small text-muted mb-0">Участник</p>
        </div>
      </div>
    </div>
    
    <div class="card-body p-4 text-black">
      <div class="d-flex justify-content-between align-items-center mb-4 text-body">
        <p class="lead fw-normal mb-0">Recent photos</p>
        <p class="mb-0"><a href="#!" class="text-muted">Show all</a></p>
      </div>
      <div class="row g-2">
        <div class="col mb-2">
          <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(112).webp" alt="image 1"
          class="w-100 rounded-3">
        </div>
        <div class="col mb-2">
          <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(107).webp" alt="image 1"
          class="w-100 rounded-3">
        </div>
      </div>
      <div class="row g-2">
        <div class="col">
          <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(108).webp" alt="image 1"
          class="w-100 rounded-3">
        </div>
        <div class="col">
          <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(114).webp" alt="image 1"
          class="w-100 rounded-3">
        </div>
      </div>
    </div>
  </div>
</div>
